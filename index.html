<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Fiesta de Despedida Prom 2025</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Fuentes m√°s juveniles -->
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@500;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    body {
      font-family: "Poppins", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #ffe6f7, #f3f4ff, #e5f9ff);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 16px;
    }
    .phone {
      position: relative;
      width: 100%;
      max-width: 430px;
      height: 720px;
      border-radius: 30px;
      padding: 3px;
      background: linear-gradient(135deg, #ec4899, #8b5cf6, #0ea5e9);
      box-shadow: 0 22px 60px rgba(15, 23, 42, 0.35);
      overflow: hidden;
    }
    .phone-inner {
      width: 100%;
      height: 100%;
      border-radius: 26px;
      overflow: hidden;
      background: radial-gradient(circle at top, #ffffff, #f9f5ff 50%, #e0f2fe 100%);
      color: #111827;
      position: relative;
      display: flex;
      flex-direction: column;
    }
    .status-bar {
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 16px;
      font-size: 0.75rem;
      color: #4b5563;
      background: linear-gradient(135deg, #fdf2ff, #e0f2fe);
      border-bottom: 1px solid rgba(148, 163, 184, 0.4);
    }
    .status-bar span.right {
      display: flex;
      gap: 8px;
      align-items: center;
    }
    .dot-signal {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: #22c55e;
      box-shadow: 0 0 8px rgba(34, 197, 94, 0.7);
    }
    .app {
      position: relative;
      width: 100%;
      height: calc(100% - 30px);
      overflow: hidden;
    }
    /* Pantallas */
    .screen {
      position: absolute;
      inset: 0;
      padding: 18px 18px 72px;
      opacity: 0;
      pointer-events: none;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    .screen::before {
      content: "";
      position: absolute;
      inset: 0;
      background-size: cover;
      background-position: center;
      opacity: 0.16;
      filter: grayscale(0.05);
      z-index: -2;
    }
    .screen::after {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at top, rgba(255, 255, 255, 0.96) 0%, rgba(255, 255, 255, 0.98) 45%, rgba(249, 250, 251, 0.98) 100%);
      z-index: -1;
    }
    .screen-1::before { background-image: url("9.jpg"); }
    .screen-2::before { background-image: url("5.jpg"); }
    .screen-3::before { background-image: url("1.jpg"); }
    .screen-4::before { background-image: url("4.jpg"); }
    .screen.active {
      opacity: 1;
      pointer-events: auto;
    }
    .screen-enter-right {
      animation: screenInRight 0.6s cubic-bezier(0.23, 1, 0.32, 1);
    }
    .screen-enter-left {
      animation: screenInLeft 0.6s cubic-bezier(0.23, 1, 0.32, 1);
    }
    @keyframes screenInRight {
      0% { opacity: 0; transform: translateX(40px) scale(0.96); }
      60% { opacity: 1; transform: translateX(-4px) scale(1.02); }
      100% { opacity: 1; transform: translateX(0) scale(1); }
    }
    @keyframes screenInLeft {
      0% { opacity: 0; transform: translateX(-40px) scale(0.96); }
      60% { opacity: 1; transform: translateX(4px) scale(1.02); }
      100% { opacity: 1; transform: translateX(0) scale(1); }
    }
    .tag {
      display: inline-block;
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      padding: 4px 10px;
      border-radius: 999px;
      background: #f3e8ff;
      color: #6b21a8;
      margin-bottom: 10px;
      font-weight: 600;
      font-family: "Poppins", system-ui;
    }
    h1 {
      font-family: "Baloo 2", system-ui, sans-serif;
      font-size: 1.8rem;
      margin-bottom: 6px;
      color: #111827;
    }
    .subtitle {
      font-size: 0.95rem;
      color: #4b5563;
      max-width: 95%;
    }
    .subtitle span.highlight {
      color: #ec4899;
      font-weight: 600;
    }
    .bottom {
      margin-top: 14px;
    }
    .pill {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 13px;
      border-radius: 999px;
      background: #f9fafb;
      border: 1px solid rgba(209, 213, 219, 0.9);
      font-size: 0.8rem;
      color: #374151;
      margin-bottom: 12px;
      box-shadow: 0 8px 18px rgba(148, 163, 184, 0.35);
    }
    .pill span.icon { font-size: 1.05rem; }
    .card-soft {
      background: #ffffffee;
      border-radius: 18px;
      padding: 11px 13px;
      border: 1px solid rgba(229, 231, 235, 0.9);
      box-shadow: 0 14px 30px rgba(148, 163, 184, 0.35);
      font-size: 0.88rem;
      color: #374151;
    }
    .card-soft h2 {
      font-family: "Baloo 2", system-ui, sans-serif;
      font-size: 1.05rem;
      margin-bottom: 6px;
      color: #111827;
    }
    .info-row {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 4px;
      font-size: 0.88rem;
      color: #374151;
    }
    .info-row span.icon { font-size: 1.1rem; }
    .info-row span strong { color: #ec4899; }
    .grid-2 {
      display: grid;
      grid-template-columns: 1.1fr 1.05fr;
      gap: 12px;
    }
    .highlight-word {
      color: #6366f1;
      font-weight: 600;
    }
    /* Carrusel de fotos */
    .carousel {
      position: relative;
      border-radius: 18px;
      overflow: hidden;
      margin: 12px 0;
      height: 180px;
      background: #000;
    }
    .carousel img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: none;
    }
    .carousel img.active {
      display: block;
      animation: fadeIn 0.5s ease;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .carousel-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(0, 0, 0, 0.5);
      color: #fff;
      border: none;
      width: 32px;
      height: 32px;
      border-radius: 999px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.1rem;
      z-index: 5;
      transition: background 0.2s ease;
    }
    .carousel-btn:hover {
      background: rgba(0, 0, 0, 0.7);
    }
    .carousel-btn.left { left: 8px; }
    .carousel-btn.right { right: 8px; }
    .carousel-dots {
      position: absolute;
      bottom: 8px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 6px;
      z-index: 5;
    }
    .carousel-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.5);
      cursor: pointer;
      transition: width 0.2s ease, background 0.2s ease;
    }
    .carousel-dot.active {
      width: 20px;
      background: #ec4899;
      box-shadow: 0 0 8px rgba(236, 72, 153, 0.8);
    }
    /* Galer√≠a strip */
    .gallery-strip {
      display: grid;
      grid-template-columns: repeat(3,1fr);
      gap: 6px;
      margin-top: 6px;
    }
    .gallery-strip img {
      width: 100%;
      height: 70px;
      object-fit: cover;
      border-radius: 10px;
      border: 1px solid rgba(209,213,219,0.9);
      cursor: pointer;
      transition: transform 0.15s ease, box-shadow 0.15s ease;
    }
    .gallery-strip img:hover {
      transform: translateY(-2px) scale(1.02);
      box-shadow: 0 10px 20px rgba(148,163,184,0.5);
    }
    /* Botones */
    .buttons {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-top: 10px;
    }
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 7px;
      padding: 9px 13px;
      border-radius: 999px;
      border: none;
      text-decoration: none;
      font-size: 0.9rem;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.12s ease, box-shadow 0.12s ease, background 0.12s ease, filter 0.12s ease;
      position: relative;
      overflow: hidden;
      font-family: "Poppins", system-ui, sans-serif;
    }
    .btn span.icon { font-size: 1.1rem; }
    .btn-primary {
      background: linear-gradient(135deg, #ec4899, #8b5cf6);
      color: #fff;
      box-shadow: 0 12px 26px rgba(236, 72, 153, 0.55);
    }
    .btn-secondary {
      background: #eef2ff;
      color: #312e81;
    }
    .btn-tertiary {
      background: #ecfeff;
      color: #0f766e;
    }
    .btn:hover {
      transform: translateY(-1px) scale(1.01);
      box-shadow: 0 10px 22px rgba(148, 163, 184, 0.6);
      filter: brightness(1.03);
    }
    .note {
      font-size: 0.8rem;
      color: #6b7280;
      text-align: center;
      margin-top: 4px;
    }
    /* Nav inferior */
    .nav {
      position: absolute;
      bottom: 10px;
      left: 0;
      right: 0;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 18px;
      font-size: 0.85rem;
      color: #6b7280;
    }
    .dots {
      display: flex;
      gap: 6px;
      align-items: center;
    }
    .dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: #e5e7eb;
      border: 1px solid #d1d5db;
      transition: width 0.18s ease, background 0.18s ease;
    }
    .dot.active {
      width: 18px;
      background: #ec4899;
      box-shadow: 0 0 6px rgba(236,72,153,0.8);
    }
    .nav-btn {
      background: #f9fafb;
      border-radius: 999px;
      padding: 5px 11px;
      border: 1px solid #e5e7eb;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      color: #374151;
      font-size: 0.82rem;
      font-family: "Poppins", system-ui, sans-serif;
    }
    .nav-btn span.icon { font-size: 1rem; }
    .nav-btn:hover {
      box-shadow: 0 6px 14px rgba(148,163,184,0.4);
      transform: translateY(-1px);
    }
    /* Modal foto grande */
    .modal {
      position: fixed;
      inset: 0;
      background: rgba(15,23,42,0.7);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 50;
    }
    .modal.open { display: flex; }
    .modal-content {
      max-width: 92%;
      max-height: 92%;
      position: relative;
      animation: popIn 0.35s cubic-bezier(0.23,1,0.32,1);
    }
    @keyframes popIn {
      from { opacity: 0; transform: scale(0.9) translateY(10px); }
      to { opacity: 1; transform: scale(1) translateY(0); }
    }
    .modal-content img {
      width: 100%;
      max-height: 92vh;
      object-fit: contain;
      border-radius: 18px;
      box-shadow: 0 20px 40px rgba(15,23,42,0.85);
      background: #f9fafb;
    }
    .modal-close {
      position: absolute;
      top: -12px;
      right: -12px;
      width: 32px;
      height: 32px;
      border-radius: 999px;
      border: none;
      background: #f9fafb;
      color: #111827;
      cursor: pointer;
      font-size: 1.1rem;
      box-shadow: 0 8px 20px rgba(15,23,42,0.7);
    }
    /* Overlay de inicio con carta */
    .start-overlay {
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at top, rgba(255,255,255,0.98), rgba(244,244,255,0.96));
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 24px;
      z-index: 20;
      transition: opacity 0.45s ease;
    }
    .start-overlay.hidden {
      opacity: 0;
      pointer-events: none;
    }
    .start-title {
      font-family: "Baloo 2", system-ui, sans-serif;
      font-size: 1.5rem;
      margin-bottom: 10px;
      color: #111827;
    }
    .start-subtitle {
      font-size: 0.9rem;
      color: #4b5563;
      margin-bottom: 18px;
    }
    .envelope-btn {
      width: 120px;
      height: 120px;
      border-radius: 32px;
      border: none;
      background: linear-gradient(145deg, #ec4899, #8b5cf6);
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3rem;
      cursor: pointer;
      box-shadow: 0 18px 40px rgba(88, 28, 135, 0.6);
      margin-bottom: 10px;
      position: relative;
      overflow: hidden;
    }
    .envelope-btn::after {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at top, rgba(255,255,255,0.4), transparent 60%);
      opacity: 0.8;
      pointer-events: none;
    }
    .start-hint {
      font-size: 0.8rem;
      color: #6b7280;
    }
    /* Control m√∫sica */
    .music-control {
      position: absolute;
      top: 36px;
      right: 16px;
      z-index: 10;
    }
    .music-btn {
      background: rgba(255,255,255,0.95);
      border-radius: 999px;
      padding: 5px 9px;
      border: 1px solid rgba(191,219,254,0.9);
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 0.78rem;
      color: #4b5563;
      cursor: pointer;
      box-shadow: 0 6px 14px rgba(148,163,184,0.4);
      font-family: "Poppins", system-ui, sans-serif;
    }
    .music-btn span.icon { font-size: 1rem; }
    /* Countdown en pantalla de detalles */
    .countdown {
      background: #fdf2ff;
      border-radius: 999px;
      padding: 6px 12px;
      font-size: 0.8rem;
      color: #6b21a8;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      margin-bottom: 10px;
    }
    .countdown span.label {
      font-weight: 600;
    }
    /* Mapa embed */
    .map-card {
      margin-top: 10px;
    }
    .map-embed {
      margin-top: 6px;
      border-radius: 12px;
      overflow: hidden;
      border: 1px solid rgba(209,213,219,0.9);
    }
    .map-embed iframe {
      width: 100%;
      height: 120px;
      border: 0;
    }
    /* Animaciones de entrada escalonadas */
    .screen.active .tag {
      animation: fadeInUp 0.6s ease 0.1s both;
    }
    .screen.active h1 {
      animation: fadeInUp 0.6s ease 0.2s both;
    }
    .screen.active .subtitle {
      animation: fadeInUp 0.6s ease 0.3s both;
    }
    .screen.active .carousel {
      animation: fadeInUp 0.6s ease 0.4s both;
    }
    .screen.active .pill,
    .screen.active .card-soft {
      animation: fadeInUp 0.6s ease 0.5s both;
    }
    .screen.active .buttons .btn {
      animation: fadeInUp 0.5s ease both;
    }
    .screen.active .buttons .btn:nth-child(1) { animation-delay: 0.4s; }
    .screen.active .buttons .btn:nth-child(2) { animation-delay: 0.5s; }
    .screen.active .buttons .btn:nth-child(3) { animation-delay: 0.6s; }
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    /* Animaciones flotantes */
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-8px); }
    }
    .envelope-btn {
      animation: float 3s ease-in-out infinite;
    }
    .pill {
      position: relative;
      overflow: hidden;
    }
    .pill::before {
      content: "";
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: left 0.5s ease;
    }
    .pill:hover::before {
      left: 100%;
    }
    /* Efectos de brillo y resplandor */
    @keyframes glow {
      0%, 100% { box-shadow: 0 0 8px rgba(236, 72, 153, 0.5); }
      50% { box-shadow: 0 0 20px rgba(236, 72, 153, 0.8), 0 0 30px rgba(139, 92, 246, 0.6); }
    }
    .dot.active {
      animation: glow 2s ease-in-out infinite;
    }
    .carousel-dot.active {
      animation: glow 2s ease-in-out infinite;
    }
    /* Animaciones en los iconos */
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-4px); }
    }
    .pill .icon,
    .info-row .icon,
    .btn .icon {
      display: inline-block;
      animation: bounce 2s ease-in-out infinite;
    }
    .pill:hover .icon,
    .btn:hover .icon {
      animation: bounce 0.6s ease-in-out infinite;
    }
    /* Mejoras en botones con efecto ripple */
    .btn {
      position: relative;
      overflow: hidden;
    }
    .btn::after {
      content: "";
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.5);
      transform: translate(-50%, -50%);
      transition: width 0.6s, height 0.6s;
    }
    .btn:active::after {
      width: 300px;
      height: 300px;
    }
    /* Efecto parallax sutil en el carrusel */
    .carousel img {
      transition: transform 0.3s ease;
    }
    .carousel:hover img.active {
      transform: scale(1.05);
    }
    /* Mejoras en las tarjetas */
    .card-soft {
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .card-soft:hover {
      transform: translateY(-4px) scale(1.02);
      box-shadow: 0 20px 40px rgba(148, 163, 184, 0.5);
    }
    /* Animaci√≥n en el countdown */
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    .countdown {
      animation: pulse 2s ease-in-out infinite;
    }
    /* Efecto en galer√≠a strip */
    .gallery-strip img {
      position: relative;
      overflow: hidden;
    }
    .gallery-strip img::after {
      content: "";
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(236, 72, 153, 0.3), rgba(139, 92, 246, 0.3));
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    .gallery-strip img:hover::after {
      opacity: 1;
    }
    /* Indicadores de swipe */
    .nav-btn {
      position: relative;
      transition: all 0.3s ease;
    }
    .nav-btn::before {
      content: "";
      position: absolute;
      inset: -4px;
      border-radius: 999px;
      background: linear-gradient(135deg, #ec4899, #8b5cf6);
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: -1;
    }
    .nav-btn:hover::before {
      opacity: 0.1;
    }
    .nav-btn:active {
      transform: scale(0.95);
    }
    /* Mejoras en modal */
    .modal-content {
      transition: transform 0.3s ease;
    }
    .modal.open .modal-content {
      animation: popIn 0.35s cubic-bezier(0.23,1,0.32,1);
    }
    .modal-close:hover {
      transform: rotate(90deg) scale(1.1);
      background: #ec4899;
      color: #fff;
    }
    .modal-close {
      transition: all 0.3s ease;
    }
    /* Animaci√≥n de carga sutil */
    @keyframes shimmer {
      0% { background-position: -1000px 0; }
      100% { background-position: 1000px 0; }
    }
    .carousel img {
      background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
      background-size: 2000px 100%;
      animation: shimmer 2s infinite linear;
    }
    .carousel img.active {
      animation: none;
      background: transparent;
    }
    /* Efecto en el overlay de inicio */
    @keyframes envelopeOpen {
      0% { transform: scale(1) rotate(0deg); }
      50% { transform: scale(1.1) rotate(5deg); }
      100% { transform: scale(1) rotate(0deg); }
    }
    .envelope-btn:active {
      animation: envelopeOpen 0.5s ease;
    }
    /* Efectos en los tags */
    .tag {
      position: relative;
      overflow: visible;
      padding-right: 30px; /* Espacio para el icono */
    }
    .tag::after {
      content: "‚ú®";
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      animation: twinkle 1.5s ease-in-out infinite;
      pointer-events: none;
      display: inline-flex;
      align-items: center;
      line-height: 1;
    }
    @keyframes twinkle {
      0%, 100% { opacity: 1; transform: translateY(-50%) scale(1); }
      50% { opacity: 0.5; transform: translateY(-50%) scale(1.2); }
    }
    /* Scroll suave en las pantallas */
    .screen {
      overflow-y: auto;
      scroll-behavior: smooth;
      -webkit-overflow-scrolling: touch;
    }
    .screen::-webkit-scrollbar {
      width: 4px;
    }
    .screen::-webkit-scrollbar-track {
      background: transparent;
    }
    .screen::-webkit-scrollbar-thumb {
      background: rgba(236, 72, 153, 0.3);
      border-radius: 2px;
    }
    .screen::-webkit-scrollbar-thumb:hover {
      background: rgba(236, 72, 153, 0.5);
    }
    @media (max-width: 480px) {
      .phone { height: 640px; }
      .screen { padding: 16px 14px 70px; }
      h1 { font-size: 1.6rem; }
      .carousel { height: 160px; }
    }
  </style>
</head>
<body>
  <!-- M√∫sica de fondo (reemplaza musica.mp3 por tu archivo) -->
  <audio id="bgMusic" src="musica.mp3" loop></audio>
  <div class="phone">
    <div class="phone-inner">
      <div class="status-bar">
        <span>Prom 2025</span>
        <span class="right">
          <span>Fiesta de Despedida</span>
          <span class="dot-signal"></span>
        </span>
      </div>
      <div class="music-control">
        <button class="music-btn" id="musicToggle">
          <span class="icon">üéµ</span>
          <span id="musicLabel">M√∫sica: off</span>
        </button>
      </div>
      <!-- Overlay de carta de invitaci√≥n -->
      <div class="start-overlay" id="startOverlay">
        <h2 class="start-title">Tienes una invitaci√≥n üíå</h2>
        <p class="start-subtitle">
          Haz clic en la carta para abrir la invitaci√≥n interactiva de la
          <strong>Fiesta de Despedida Prom 2025</strong>.
        </p>
        <button class="envelope-btn" id="startBtn">‚úâÔ∏è</button>
        <p class="start-hint">Toca la carta para comenzar</p>
      </div>
      <div class="app">
        <!-- Pantalla 1 -->
        <section class="screen screen-1 active screen-enter-right" data-screen="0">
          <div>
            <div class="tag">Fiesta de Despedida</div>
            <h1>Prom 2025 ¬∑ Colegio Nuestra Se√±ora de F√°tima</h1>
            <p class="subtitle">
              Tu esfuerzo y dedicaci√≥n te han tra√≠do hasta aqu√≠; el futuro est√° listo para recibirte. 
              <span class="highlight">Este es nuestro momento para celebrar juntos. üåü</span>
            </p>
            <!-- Carrusel de fotos -->
            <div class="carousel" id="carousel">
              <img src="1.jpg" alt="Foto Prom" class="active">
              <img src="2.jpg" alt="Foto Prom">
              <img src="3.jpg" alt="Foto Prom">
              <img src="4.jpg" alt="Foto Prom">
              <img src="5.jpg" alt="Foto Prom">
              <img src="6.jpg" alt="Foto Prom">
              <img src="7.jpg" alt="Foto Prom">
              <img src="8.jpg" alt="Foto Prom">
              <img src="9.jpg" alt="Foto Prom">
              <img src="10.jpg" alt="Foto Prom">
              <button class="carousel-btn left" id="carouselPrevBtn">&#10094;</button>
              <button class="carousel-btn right" id="carouselNextBtn">&#10095;</button>
              <div class="carousel-dots" id="carouselDots"></div>
            </div>
          </div>
          <div class="bottom">
            <div class="pill">
              <span class="icon">üéì</span>
              Una generaci√≥n, muchos recuerdos, una gran despedida.
            </div>
            <div class="card-soft">
              <h2>Modo celebraci√≥n</h2>
              <p>
                Despu√©s de tantos trabajos, clases, risas y retos compartidos, 
                esta fiesta es el cierre perfecto para el 
                <span class="highlight-word">Prom 2025 NSF</span>.  
                Ven con la mejor actitud y listo para vivir una tarde inolvidable.
              </p>
            </div>
          </div>
        </section>
        <!-- Pantalla 2: Detalles + countdown + mapa -->
        <section class="screen screen-2" data-screen="1">
          <div>
            <div class="tag">Detalles del evento</div>
            <div class="countdown">
              <span class="icon">‚è≥</span>
              <span class="label">Faltan:</span>
              <span id="countdownText">‚Äî</span>
            </div>
            <p class="subtitle">
              Aparta la fecha, arma tu outfit y llega puntual: la historia del Prom 2025 tambi√©n se escribe en esta despedida. ‚ú®
            </p>
          </div>
          <div class="bottom">
            <div class="grid-2">
              <div class="card-soft">
                <h2>Cu√°ndo</h2>
                <div class="info-row">
                  <span class="icon">üìÖ</span>
                  <span><strong>Jueves 27 de noviembre de 2025</strong></span>
                </div>
                <div class="info-row">
                  <span class="icon">‚è∞</span>
                  <span><strong>4:30 p.m.</strong></span>
                </div>
                <div class="info-row">
                  <span class="icon">‚≠ê</span>
                  <span>Llega un poco antes para disfrutar desde el inicio.</span>
                </div>
              </div>
              <div class="card-soft">
                <h2>D√≥nde</h2>
                <div class="info-row">
                  <span class="icon">üìç</span>
                  <span><strong>Sandunga Boulevard Rose</strong></span>
                </div>
                <div class="info-row">
                  <span class="icon">üéüÔ∏è</span>
                  <span>Evento preparado especialmente para el Prom 2025.</span>
                </div>
                <div class="info-row">
                  <span class="icon">üíå</span>
                  <span>Invitan los estudiantes de grado d√©cimo.</span>
                </div>
              </div>
            </div>
            <div class="card-soft map-card">
              <h2>Mapa del lugar</h2>
              <div class="map-embed">
                <iframe 
                  src="https://www.google.com/maps?q=Sandunga+Boulevard+Rose&output=embed"
                  loading="lazy"
                  referrerpolicy="no-referrer-when-downgrade">
                </iframe>
              </div>
            </div>
          </div>
        </section>
        <!-- Pantalla 3 -->
        <section class="screen screen-3" data-screen="2">
          <div>
            <div class="tag">Recuerdos</div>
            <h1>Momentos que nunca se olvidan</h1>
            <p class="subtitle">
              Cada foto guarda una historia: clases, actos, risas, ocurrencias y todo lo que hizo √∫nico este Prom 2025.  
              Toca una imagen para verla m√°s grande. üì∏
            </p>
          </div>
          <div class="bottom">
            <div class="card-soft">
              <h2>Galer√≠a Prom 2025</h2>
              <p style="margin-bottom:6px;">
                Comparte esta invitaci√≥n y recuerden juntos todos esos momentos que los trajeron hasta aqu√≠. üíöüíô
              </p>
              <div class="gallery-strip" id="galleryStrip">
                <img src="1.jpg" alt="Recuerdo 1">
                <img src="2.jpg" alt="Recuerdo 2">
                <img src="3.jpg" alt="Recuerdo 3">
                <img src="4.jpg" alt="Recuerdo 4">
                <img src="5.jpg" alt="Recuerdo 5">
                <img src="6.jpg" alt="Recuerdo 6">
                <img src="7.jpg" alt="Recuerdo 7">
                <img src="8.jpg" alt="Recuerdo 8">
                <img src="9.jpg" alt="Recuerdo 9">
              </div>
            </div>
          </div>
        </section>
        <!-- Pantalla 4 -->
        <section class="screen screen-4" data-screen="3">
          <div>
            <div class="tag">Confirma tu asistencia</div>
            <h1>¬øTe unes a la despedida?</h1>
            <p class="subtitle">
              Confirma tu asistencia, guarda la fecha y comparte esta invitaci√≥n con tu curso.  
              Este cierre de etapa lo vivimos <span class="highlight">todos juntos</span>. ü•π‚ú®
            </p>
          </div>
          <div class="bottom">
            <div class="card-soft">
              <h2>Acciones r√°pidas</h2>
              <div class="buttons">
                <a
                  class="btn btn-secondary"
                  href="https://www.google.com/maps?q=Sandunga+Boulevard+Rose"
                  target="_blank" rel="noopener noreferrer"
                >
                  <span class="icon">üìç</span>
                  Ver ubicaci√≥n en el mapa
                </a>
                <!-- CAMBIA EL N√öMERO DE WHATSAPP AQU√ç -->
                <a
                  class="btn btn-primary"
                  href="https://wa.me/573000000000?text=Hola,%20confirmo%20mi%20asistencia%20a%20la%20Fiesta%20de%20Despedida%20Prom%202025%20üéìüéâ"
                  target="_blank" rel="noopener noreferrer"
                >
                  <span class="icon">‚úÖ</span>
                  Confirmar asistencia por WhatsApp
                </a>
                <a
                  class="btn btn-tertiary"
                  href="https://calendar.google.com/calendar/render?action=TEMPLATE&text=Fiesta+de+Despedida+Prom+2025&details=Tu+esfuerzo+y+dedicaci%C3%B3n+te+han+tra%C3%ADdo+hasta+aqu%C3%AD;+el+futuro+est%C3%A1+listo+para+recibirte.&location=Sandunga+Boulevard+Rose&dates=20251127T213000Z/20251127T233000Z"
                  target="_blank" rel="noopener noreferrer"
                >
                  <span class="icon">üìÜ</span>
                  Agregar a mi calendario
                </a>
              </div>
              <p class="note">
                Tu presencia hace la diferencia.  
                ¬°Te esperamos en la Fiesta de Despedida Prom 2025! üíñ
              </p>
            </div>
          </div>
        </section>
        <!-- Nav inferior -->
        <div class="nav">
          <button class="nav-btn" id="prevBtn">
            <span class="icon">‚¨Ö</span> Atr√°s
          </button>
          <div class="dots" id="dots"></div>
          <button class="nav-btn" id="nextBtn">
            Siguiente <span class="icon">‚û°</span>
          </button>
        </div>
      </div>
    </div>
  </div>
  <!-- Modal foto grande -->
  <div class="modal" id="modal">
    <div class="modal-content">
      <button class="modal-close" id="modalClose">&times;</button>
      <img src="" alt="Foto grande" id="modalImg">
    </div>
  </div>
  <script>
    // -------- Carrusel en pantalla 1 con mejoras --------
    const carouselImages = document.querySelectorAll('#carousel img');
    const carouselPrevBtn = document.getElementById('carouselPrevBtn');
    const carouselNextBtn = document.getElementById('carouselNextBtn');
    const carouselDotsContainer = document.getElementById('carouselDots');
    let currentCarouselIndex = 0;
    let carouselInterval = null;
    let isCarouselTransitioning = false;

    function showCarouselImage(index, direction = 'next') {
      if (isCarouselTransitioning || index === currentCarouselIndex) return;
      
      isCarouselTransitioning = true;
      const prevIndex = currentCarouselIndex;
      
      // Remover active de todas las im√°genes
      carouselImages.forEach((img, i) => {
        img.classList.remove('active');
      });
      
      // Actualizar dots
      const dots = carouselDotsContainer.querySelectorAll('.carousel-dot');
      dots.forEach((dot, i) => {
        dot.classList.toggle('active', i === index);
      });
      
      // Mostrar nueva imagen con efecto
      setTimeout(() => {
        carouselImages[index].classList.add('active');
        currentCarouselIndex = index;
        isCarouselTransitioning = false;
      }, 150);
    }

    // Crear dots del carrusel
    carouselImages.forEach((_, i) => {
      const dot = document.createElement('div');
      dot.classList.add('carousel-dot');
      if (i === 0) dot.classList.add('active');
      dot.addEventListener('click', () => {
        const direction = i > currentCarouselIndex ? 'next' : 'prev';
        showCarouselImage(i, direction);
        resetCarouselInterval();
      });
      carouselDotsContainer.appendChild(dot);
    });

    function resetCarouselInterval() {
      if (carouselInterval) clearInterval(carouselInterval);
      carouselInterval = setInterval(() => {
        if (!isCarouselTransitioning) {
          const newIndex = (currentCarouselIndex + 1) % carouselImages.length;
          showCarouselImage(newIndex, 'next');
        }
      }, 5000);
    }

    // Mejoras en botones con feedback visual
    carouselPrevBtn.addEventListener('click', () => {
      const newIndex = (currentCarouselIndex - 1 + carouselImages.length) % carouselImages.length;
      showCarouselImage(newIndex, 'prev');
      resetCarouselInterval();
      carouselPrevBtn.style.transform = 'scale(0.9)';
      setTimeout(() => { carouselPrevBtn.style.transform = 'scale(1)'; }, 150);
    });

    carouselNextBtn.addEventListener('click', () => {
      const newIndex = (currentCarouselIndex + 1) % carouselImages.length;
      showCarouselImage(newIndex, 'next');
      resetCarouselInterval();
      carouselNextBtn.style.transform = 'scale(0.9)';
      setTimeout(() => { carouselNextBtn.style.transform = 'scale(1)'; }, 150);
    });

    // Swipe para el carrusel
    let carouselStartX = null;
    let carouselStartY = null;
    const carousel = document.getElementById('carousel');
    
    carousel.addEventListener('touchstart', (e) => {
      carouselStartX = e.touches[0].clientX;
      carouselStartY = e.touches[0].clientY;
      if (carouselInterval) clearInterval(carouselInterval);
    });
    
    carousel.addEventListener('touchmove', (e) => {
      if (carouselStartX === null || carouselStartY === null) return;
      const diffX = e.touches[0].clientX - carouselStartX;
      const diffY = e.touches[0].clientY - carouselStartY;
      
      // Solo procesar si el movimiento horizontal es mayor que el vertical
      if (Math.abs(diffX) > Math.abs(diffY)) {
        e.preventDefault();
      }
    });
    
    carousel.addEventListener('touchend', (e) => {
      if (carouselStartX === null || carouselStartY === null) return;
      
      const diffX = e.changedTouches[0].clientX - carouselStartX;
      const diffY = e.changedTouches[0].clientY - carouselStartY;
      
      // Solo procesar swipe horizontal si es mayor que el vertical
      if (Math.abs(diffX) > Math.abs(diffY) && Math.abs(diffX) > 50) {
        if (diffX < 0) {
          // Swipe izquierda - siguiente
          const newIndex = (currentCarouselIndex + 1) % carouselImages.length;
          showCarouselImage(newIndex, 'next');
        } else {
          // Swipe derecha - anterior
          const newIndex = (currentCarouselIndex - 1 + carouselImages.length) % carouselImages.length;
          showCarouselImage(newIndex, 'prev');
        }
        resetCarouselInterval();
      }
      
      carouselStartX = null;
      carouselStartY = null;
    });

    // Iniciar carrusel autom√°tico
    resetCarouselInterval();

    // Pausar carrusel al hacer hover o tocar
    carousel.addEventListener('mouseenter', () => {
      if (carouselInterval) clearInterval(carouselInterval);
    });
    carousel.addEventListener('mouseleave', () => {
      resetCarouselInterval();
    });
    
    // Tambi√©n pausar cuando se muestra la pantalla 1
    const screen1 = document.querySelector('.screen-1');
    const observer = new MutationObserver(() => {
      if (screen1.classList.contains('active')) {
        resetCarouselInterval();
      } else {
        if (carouselInterval) clearInterval(carouselInterval);
      }
    });
    observer.observe(screen1, { attributes: true, attributeFilter: ['class'] });

    // Navegaci√≥n entre pantallas
    const screens = document.querySelectorAll('.screen');
    const dotsContainer = document.getElementById('dots');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    let currentScreen = 0;

    function renderDots() {
      dotsContainer.innerHTML = '';
      screens.forEach((_, i) => {
        const d = document.createElement('div');
        d.classList.add('dot');
        if (i === currentScreen) d.classList.add('active');
        d.addEventListener('click', () => goToScreen(i, i > currentScreen ? 'right' : 'left'));
        dotsContainer.appendChild(d);
      });
    }

    function goToScreen(index, direction = 'right') {
      if (index < 0 || index >= screens.length || index === currentScreen) return;
      screens.forEach((s) => {
        s.classList.remove('active', 'screen-enter-right', 'screen-enter-left');
      });
      const incoming = screens[index];
      incoming.classList.add('active');
      // forzar reflow
      void incoming.offsetWidth;
      incoming.classList.add(direction === 'right' ? 'screen-enter-right' : 'screen-enter-left');
      currentScreen = index;
      renderDots();
    }

    prevBtn.addEventListener('click', () => {
      const next = currentScreen - 1 < 0 ? 0 : currentScreen - 1;
      goToScreen(next, 'left');
    });

    nextBtn.addEventListener('click', () => {
      const next = currentScreen + 1 >= screens.length ? screens.length - 1 : currentScreen + 1;
      goToScreen(next, 'right');
    });

    // Swipe en m√≥viles mejorado
    let startX = null;
    let startY = null;
    const appEl = document.querySelector('.app');
    
    appEl.addEventListener('touchstart', (e) => {
      // No procesar swipe si estamos tocando el carrusel
      if (e.target.closest('#carousel')) return;
      startX = e.touches[0].clientX;
      startY = e.touches[0].clientY;
    });
    
    appEl.addEventListener('touchmove', (e) => {
      if (startX === null || startY === null) return;
      // No procesar swipe si estamos tocando el carrusel
      if (e.target.closest('#carousel')) return;
    });
    
    appEl.addEventListener('touchend', (e) => {
      if (startX === null || startY === null) return;
      // No procesar swipe si estamos tocando el carrusel
      if (e.target.closest('#carousel')) return;
      
      const endX = e.changedTouches[0].clientX;
      const endY = e.changedTouches[0].clientY;
      const diffX = endX - startX;
      const diffY = endY - startY;
      
      // Solo procesar swipe horizontal si es mayor que el vertical
      if (Math.abs(diffX) > Math.abs(diffY) && Math.abs(diffX) > 60) {
        if (diffX < 0) {
          // Swipe izquierda - siguiente pantalla
          nextBtn.click();
          // Feedback visual
          nextBtn.style.transform = 'scale(0.9)';
          setTimeout(() => { nextBtn.style.transform = 'scale(1)'; }, 200);
        } else {
          // Swipe derecha - pantalla anterior
          prevBtn.click();
          // Feedback visual
          prevBtn.style.transform = 'scale(0.9)';
          setTimeout(() => { prevBtn.style.transform = 'scale(1)'; }, 200);
        }
      }
      startX = null;
      startY = null;
    });
    
    // Agregar feedback visual en los botones de navegaci√≥n
    prevBtn.addEventListener('click', () => {
      prevBtn.style.transform = 'scale(0.9)';
      setTimeout(() => { prevBtn.style.transform = 'scale(1)'; }, 200);
    });
    
    nextBtn.addEventListener('click', () => {
      nextBtn.style.transform = 'scale(0.9)';
      setTimeout(() => { nextBtn.style.transform = 'scale(1)'; }, 200);
    });

    renderDots();

    // Modal fotos
    const galleryStrip = document.getElementById('galleryStrip');
    const modal = document.getElementById('modal');
    const modalImg = document.getElementById('modalImg');
    const modalClose = document.getElementById('modalClose');

    if (galleryStrip) {
      galleryStrip.querySelectorAll('img').forEach((img) => {
        img.addEventListener('click', () => {
          modalImg.src = img.src;
          modal.classList.add('open');
        });
      });
    }

    // Tambi√©n hacer clic en las fotos del carrusel para verlas en grande
    carouselImages.forEach((img) => {
      img.addEventListener('click', () => {
        modalImg.src = img.src;
        modal.classList.add('open');
      });
    });

    modalClose.addEventListener('click', () => modal.classList.remove('open'));
    modal.addEventListener('click', (e) => {
      if (e.target === modal) modal.classList.remove('open');
    });

    // M√∫sica
    const bgMusic = document.getElementById('bgMusic');
    const musicToggle = document.getElementById('musicToggle');
    const musicLabel = document.getElementById('musicLabel');
    let musicOn = false;

    musicToggle.addEventListener('click', async () => {
      try {
        if (!musicOn) {
          await bgMusic.play();
          musicOn = true;
          musicLabel.textContent = 'M√∫sica: on';
        } else {
          bgMusic.pause();
          musicOn = false;
          musicLabel.textContent = 'M√∫sica: off';
        }
      } catch (e) {
        console.log('No se pudo reproducir la m√∫sica autom√°ticamente:', e);
      }
    });

    // Al hacer clic en la carta, ocultar overlay y comenzar (tambi√©n activar m√∫sica si se puede)
    const startOverlay = document.getElementById('startOverlay');
    const startBtn = document.getElementById('startBtn');

    startBtn.addEventListener('click', async () => {
      startOverlay.classList.add('hidden');
      // Intentar activar m√∫sica al abrir
      try {
        await bgMusic.play();
        musicOn = true;
        musicLabel.textContent = 'M√∫sica: on';
      } catch (e) {
        console.log('El navegador bloque√≥ la reproducci√≥n autom√°tica, el usuario puede activarla manualmente.');
      }
    });

    // Countdown en pantalla de detalles
    const countdownText = document.getElementById('countdownText');
    // Fecha del evento (zona horaria Colombia UTC-5)
    const eventDate = new Date('2025-11-27T16:30:00-05:00');

    function updateCountdown() {
      const now = new Date();
      const diff = eventDate - now;
      if (diff <= 0) {
        countdownText.textContent = '¬°Es hoy! üéâ';
        return;
      }
      const totalSeconds = Math.floor(diff / 1000);
      const days = Math.floor(totalSeconds / (3600 * 24));
      const hours = Math.floor((totalSeconds % (3600 * 24)) / 3600);
      const minutes = Math.floor((totalSeconds % 3600) / 60);
      countdownText.textContent =
        days + ' d√≠as ¬∑ ' + hours + ' h ¬∑ ' + minutes + ' min';
    }

    updateCountdown();
    setInterval(updateCountdown, 60000); // actualizar cada minuto
  </script>
</body>
</html>
